#!/bin/zsh

#Ubuntu is missing the following
#      -v /etc/timezone:/etc/timezone:ro -v /etc/localtime:/etc/localtime:ro \

scriptdir=$0:a:h

# Launch the devcli shell for this project
cd $scriptdir
docker run --init -it --rm $1 $2 --user $(whoami):$(whoami) \
    -v /var/run/docker.sock:/var/run/docker.sock \
    -v $scriptdir/../root:/home/$(whoami)-env1:cached \
    -v /projects:/projects:cached \
    devcli
